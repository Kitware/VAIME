
REM Set these paths to your Anaconda and CUDA installation locations

SET PYTHON_INSTALL_DIR=C:\ProgramData\Anaconda3

REM Do not edit the below

SET VIAME_INSTALL=%~dp0

IF NOT EXIST %PYTHON_INSTALL_DIR%\ (
  ECHO Python Install Dir in "setup_viame.bat" is Invalid
  PAUSE
  EXIT \B
)

SET PATH=%VIAME_INSTALL%\bin;%VIAME_INSTALL%\postgres\bin;%VIAME_INSTALL%\Scripts;%PYTHON_INSTALL_DIR%;%PATH%

SET LD_LIBRARY_PATH=%VIAME_INSTALL%\bin;%PATH%

SET KWIVER_PLUGIN_PATH=%VIAME_INSTALL%\lib\kwiver\modules;%KWIVER_PLUGIN_PATH%
SET KWIVER_PLUGIN_PATH=%VIAME_INSTALL%\lib64\kwiver\modules;%KWIVER_PLUGIN_PATH%
SET KWIVER_PLUGIN_PATH=%VIAME_INSTALL%\lib\kwiver\processes;%KWIVER_PLUGIN_PATH%
SET KWIVER_PLUGIN_PATH=%VIAME_INSTALL%\lib64\kwiver\processes;%KWIVER_PLUGIN_PATH%
SET KWIVER_PLUGIN_PATH=%VIAME_INSTALL%\lib\viame\modules;%KWIVER_PLUGIN_PATH%
SET KWIVER_PLUGIN_PATH=%VIAME_INSTALL%\lib64\viame\modules;%KWIVER_PLUGIN_PATH%
SET KWIVER_PLUGIN_PATH=%VIAME_INSTALL%\lib\viame\processes;%KWIVER_PLUGIN_PATH%
SET KWIVER_PLUGIN_PATH=%VIAME_INSTALL%\lib64\viame\processes;%KWIVER_PLUGIN_PATH%

SET QT_PLUGIN_PATH=%VIAME_INSTALL%\lib\qt5\plugins
SET VIDTK_MODULE_PATH=%VIAME_INSTALL%\lib\modules
SET VG_PLUGIN_PATH=%VIAME_INSTALL%

SET SPROKIT_MODULE_PATH=%VIAME_INSTALL%\lib\sprokit;%SPROKIT_MODULE_PATH%
SET SPROKIT_PYTHON_MODULES=kwiver.arrows;kwiver.processes;kwiver.processes.pytorch
SET SPROKIT_PYTHON_MODULES=viame.arrows.core;viame.arrows.pytorch;%SPROKIT_PYTHON_MODULES%
SET SPROKIT_PYTHON_MODULES=viame.arrows.tensorflow;%SPROKIT_PYTHON_MODULES%
SET SPROKIT_PYTHON_MODULES=viame.processes;viame.processes.pytorch;%SPROKIT_PYTHON_MODULES%

SET PYTHONPATH=%VIAME_INSTALL%\python;%PYTHONPATH%
SET PYTHONPATH=%VIAME_INSTALL%\Python36\site-packages;%PYTHONPATH%
SET PYTHONPATH=%VIAME_INSTALL%\Python27\site-packages;%PYTHONPATH%
SET PYTHONPATH=%VIAME_INSTALL%\lib\Lib\site-packages;%PYTHONPATH%
SET PYTHONPATH=%VIAME_INSTALL%\lib\site-packages;%PYTHONPATH%
SET PYTHONPATH=%VIAME_INSTALL%\lib\python3.6\site-packages;%PYTHONPATH%
SET PYTHONPATH=%VIAME_INSTALL%\lib\python2.7\site-packages;%PYTHONPATH%

SET KWIVER_DEFAULT_LOG_LEVEL=debug

CALL "%PYTHON_INSTALL_DIR%\Scripts\activate.bat"

REM Launch the GUI
sealtk.exe --pipeline-directory %VIAME_INSTALL%\configs\pipelines\embedded_dual_stream
